import { TaxCategory } from '@/types/sales-tax';

export const CA_TAX_CATEGORIES: TaxCategory[] = [
  {
    id: 'clothing',
    name: 'Clothing & Footwear',
    icon: 'ğŸ‘•',
    description: 'Apparel, footwear, and related accessories',
    rules: [
      {
        id: 'clothing-general',
        category: 'Clothing & Footwear',
        subcategory: 'General Clothing',
        description: 'Clothing and footwear (all prices)',
        taxable: true,
        tbReference: 'CA-PUB-61',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'California taxes all clothing with no exemption.',
      },
    ],
  },
  {
    id: 'food',
    name: 'Food & Beverages',
    icon: 'ğŸ',
    description: 'Food products, beverages, and restaurant meals',
    rules: [
      {
        id: 'grocery-food',
        category: 'Food & Beverages',
        subcategory: 'Grocery Items',
        description: 'Food for home consumption (grocery items)',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1603',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/tax-rates-stfd.htm',
        notes: 'Most grocery food is exempt. Cold food products sold for consumption off-premises.',
      },
      {
        id: 'prepared-food',
        category: 'Food & Beverages',
        subcategory: 'Prepared Food',
        description: 'Prepared food, hot food, restaurant meals',
        taxable: true,
        tbReference: 'CA-REG-1603',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/tax-rates-stfd.htm',
        notes: 'Hot prepared food and restaurant meals are taxable.',
      },
      {
        id: 'soft-drinks',
        category: 'Food & Beverages',
        subcategory: 'Soft Drinks',
        description: 'Carbonated beverages, soft drinks',
        taxable: true,
        tbReference: 'CA-REG-1603',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/tax-rates-stfd.htm',
        notes: 'Carbonated beverages are taxable.',
      },
      {
        id: 'candy',
        category: 'Food & Beverages',
        subcategory: 'Candy',
        description: 'Candy and confectionery',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1603',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/tax-rates-stfd.htm',
        notes: 'Candy is exempt in California (unlike most states).',
      },
      {
        id: 'bottled-water',
        category: 'Food & Beverages',
        subcategory: 'Water',
        description: 'Bottled water',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1603',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/tax-rates-stfd.htm',
        notes: 'Bottled water is exempt.',
      },
    ],
  },
  {
    id: 'digital',
    name: 'Digital Products & Software',
    icon: 'ğŸ’»',
    description: 'Software, digital downloads, and streaming services',
    rules: [
      {
        id: 'software-physical',
        category: 'Digital Products & Software',
        subcategory: 'Physical Software',
        description: 'Software on physical media (CD, USB)',
        taxable: true,
        tbReference: 'CA-REG-1502',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Software on tangible media is taxable.',
      },
      {
        id: 'software-download',
        category: 'Digital Products & Software',
        subcategory: 'Downloaded Software',
        description: 'Software delivered electronically',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1502',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Electronically downloaded software is generally not taxable.',
      },
      {
        id: 'saas',
        category: 'Digital Products & Software',
        subcategory: 'SaaS',
        description: 'Software as a Service (SaaS)',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1502',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'SaaS is generally not taxable in California.',
      },
      {
        id: 'digital-goods',
        category: 'Digital Products & Software',
        subcategory: 'Digital Downloads',
        description: 'Digital books, music, movies',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1502',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Digital products delivered electronically are not taxable.',
      },
      {
        id: 'streaming',
        category: 'Digital Products & Software',
        subcategory: 'Streaming',
        description: 'Streaming services (Netflix, Spotify)',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1502',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Streaming services are not taxable in California.',
      },
    ],
  },
  {
    id: 'medical',
    name: 'Medical & Health',
    icon: 'ğŸ’Š',
    description: 'Prescription drugs, medical devices, and health products',
    rules: [
      {
        id: 'prescription-drugs',
        category: 'Medical & Health',
        subcategory: 'Prescription Drugs',
        description: 'Prescription medications',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1591',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Prescription medicines are exempt.',
      },
      {
        id: 'otc-drugs',
        category: 'Medical & Health',
        subcategory: 'OTC Medications',
        description: 'Over-the-counter medications',
        taxable: true,
        tbReference: 'CA-REG-1591',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'OTC drugs are taxable in California.',
      },
      {
        id: 'medical-devices',
        category: 'Medical & Health',
        subcategory: 'Medical Devices',
        description: 'Durable medical equipment, prosthetics',
        taxable: false,
        exemptionType: 'conditional',
        conditions: ['Prescribed by licensed physician'],
        tbReference: 'CA-REG-1591',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Medical devices are exempt when prescribed.',
      },
    ],
  },
  {
    id: 'services',
    name: 'Services',
    icon: 'ğŸ”§',
    description: 'Professional, personal, and business services',
    rules: [
      {
        id: 'professional-services',
        category: 'Services',
        subcategory: 'Professional Services',
        description: 'Legal, accounting, consulting services',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-PUB-61',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Most services are not subject to sales tax.',
      },
      {
        id: 'fabrication-labor',
        category: 'Services',
        subcategory: 'Fabrication',
        description: 'Fabrication labor (creating new products)',
        taxable: true,
        tbReference: 'CA-REG-1526',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Labor to produce, fabricate, or process tangible property is taxable.',
      },
      {
        id: 'repair-labor',
        category: 'Services',
        subcategory: 'Repair Services',
        description: 'Repair and installation labor',
        taxable: false,
        exemptionType: 'conditional',
        conditions: ['Labor separately stated on invoice'],
        tbReference: 'CA-REG-1546',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Repair labor is generally not taxable if separately stated.',
      },
    ],
  },
  {
    id: 'manufacturing',
    name: 'Manufacturing & Industry',
    icon: 'ğŸ­',
    description: 'Manufacturing equipment and materials',
    rules: [
      {
        id: 'manufacturing-equipment',
        category: 'Manufacturing & Industry',
        subcategory: 'Equipment',
        description: 'Manufacturing machinery and equipment',
        taxable: false,
        exemptionType: 'partial',
        conditions: ['Qualifies for partial exemption'],
        tbReference: 'CA-REG-1525.4',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/manufacturing-exemptions.htm',
        notes: 'Partial exemption available for qualifying manufacturing equipment.',
      },
      {
        id: 'raw-materials',
        category: 'Manufacturing & Industry',
        subcategory: 'Raw Materials',
        description: 'Materials incorporated into products for resale',
        taxable: false,
        exemptionType: 'full',
        tbReference: 'CA-REG-1668',
        tbUrl: 'https://www.cdtfa.ca.gov/taxes-and-fees/sales-tax.htm',
        notes: 'Materials that become part of product for resale are exempt.',
      },
    ],
  },
];

export function getCACategoryById(id: string): TaxCategory | undefined {
  return CA_TAX_CATEGORIES.find(c => c.id === id);
}
